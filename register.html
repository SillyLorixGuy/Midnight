<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="src/css/reset.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="src/css/global.css">
    <link rel="stylesheet" href="src/css/login.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
</head>

<body>
    <nav>
        <a href="index.html" class="glow">Midnight</a>
        <section>
            <a href=""><img src="https://aifxjrcbxtvblqhgsrbs.supabase.co/storage/v1/object/public/pfps/anonymous-avatar-icon-25.jpg" alt="profile-picture"></a>
            <a href="">
                <p class="glow">Log Out</p>
            </a>
        </section>
    </nav>
    <main>
        <!-- Step 1: Email & Password -->
        <section class="login-box" id="step1">
            <h1 class="glow">Sign up - Step 1</h1>
            <p class="step-info">Create your account with email and password</p>
            <label for="email">Email</label>
            <input id="email" type="email" placeholder="Enter email" required>
            <label for="password">Password</label>
            <input id="password" type="password" placeholder="Enter password (min 6 chars)" required>
            <label for="password2">Confirm Password</label>
            <input id="password2" type="password" placeholder="Repeat password" required>
            <button id="step1-btn">Continue</button>
            <p class="step-note">You'll need to confirm your email before completing your profile</p>
            <a href="login.html">Already have an account? Sign in</a>
        </section>

        <!-- Step 2: Profile Info (hidden initially) -->
        <section class="login-box" id="step2" style="display: none;">
            <h1 class="glow">Complete Your Profile</h1>
            <p class="step-info glow50">Add your details to finish setup</p>
            <div class="profile-details">
                <div class="container">
                    <label for="username">Username</label>
                    <input id="username" type="text" placeholder="Choose a username" required>
                </div>
                <div class="container">
                    <label for="bio">Bio (optional)</label>
                    <textarea id="bio" maxlength="200"></textarea>
                </div>
                <div class="container">
                    <label>Profile visibility</label>
                    <div class="radio-group">
                        <label><input type="radio" name="visibility" value="public" checked> Public</label>
                        <label><input type="radio" name="visibility" value="private"> Private</label>
                    </div>
                </div>
                <div class="container">
                    <label for="pfp">Profile picture (optional)</label>
                    <input id="pfp" type="file" accept="image/*">
                </div>
                <button id="step2-btn">Complete Registration</button>
            </div>
        </section>

        <!-- Email Confirmation Message (hidden initially) -->
        <section class="login-box" id="confirm-message" style="display: none;">
            <h1 class="glow">Check Your Email</h1>
            <p class="step-info">We've sent a confirmation link to your email address.</p>
            <p class="step-note">Please click the link in the email to verify your account, then return here to complete
                your profile.</p>
            <button id="check-confirmation-btn">I've Confirmed - Continue</button>
            <a href="login.html">Back to login</a>
        </section>
    </main>
    <footer>
        <section class="top">
            <section class="about">
                <h3 class="gray-glow">Project Midnight</h3>
                <p class="gray-glow">Times are rough nowdays... everyone needs to vent a little from time to time.</p>
            </section>
            <section class="socials">
                <h3 class="gray-glow">My Socials:</h3>
                <a class="gray-glow" href="https://www.instagram.com/mr.lorix/"><i class="fa-brands fa-instagram"></i>
                    <p> mr.lorix</p>
                </a>
                <a class="gray-glow"><i class="fa-brands fa-discord"></i>
                    <p> .lorix</p>
                </a>
            </section>
        </section>
        <section class="bottom">
            <p>Â© 2025 Lorix. All rights reserved.</p>
        </section>
    </footer>
    <script src="src/scripts/supabaseClient.js" type="module"></script>
    <script src="src/scripts/nav-profile.js" type="module"></script>
    <script src="src/scripts/register.js" type="module"></script>
</body>
</html>